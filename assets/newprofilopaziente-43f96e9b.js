import"./styles-fac82e35.js";import"./bootstrap.esm-19ee7221.js";import{f as z}from"./api_wrapper-35c8f065.js";import{f as p}from"./api-1d682227.js";document.addEventListener("DOMContentLoaded",()=>{const v=[];function y(o,n,e,t,i,a,m,c,d,s,r,u,g,l){return z("paziente/save",{method:"POST",mode:"cors",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},body:{codiceFiscale:o,nome:n,cognome:e,dataNascita:t,indirizzo:i,telefono:a,email:m,sesso:c,tipoDiabete:d,comorbilita:s,farmaciAssunti:r,periodoDiMonitoraggio:u,numeriUtili:g,terapia:l}})}document.getElementById("crea-button").addEventListener("click",function(){const o=document.getElementById("codiceFiscale").value,n=document.getElementById("nome").value,e=document.getElementById("cognome").value,t=document.getElementById("dataNascita").value,i=document.getElementById("indirizzo").value,a=document.getElementById("telefono").value,m=document.getElementById("email").value,c=document.getElementById("sesso").value,d=document.getElementById("tipoDiabete").value,s=document.getElementById("comorbilita").value,r=document.getElementById("farmaciAssunti").value,u=0,g=document.getElementById("numeriUtili").value.split(/, ?/).map(I=>{const f={};return f.numero=I,f}),l={farmaci:v};console.log(l),y(o,n,e,t,i,a,m,c,d,s,r,u,g,l)});function E(){let o=document.getElementById("cerca-farmaco").value;p(o).then(n=>{let e="";for(let t of n.list)e+=`
          <div class="row fw-normal" id="mostra-farmaci">
          <br>
            <div class="col-sm-6" id="nome-farmaco"><br>${t.nomeFarmaco}</div>
            <div class="col-sm-6" id="principio-attivo"><br>${t.principioAttivo}</div>
           </div>
           `;document.getElementById("lista-farmaci").innerHTML=e})}document.getElementById("cerca-button").onclick=E;function B(){const o=document.getElementById("nomeFarmaco").value,n=document.getElementById("dosaggio").value,e=document.getElementById("ora").value,t=document.getElementById("somministrazione").value,i=document.getElementById("noteAggiuntive").value;p(o).then(a=>{a.list.length==0&&alert("farmaco non riconosciuto"),console.log(a);const c=a.list[0].id;v.push({idFarmaco:c,dosaggio:n,orarioAssunzione:e,viaDiSomministrazione:t,noteAggiuntive:i})})}document.getElementById("aggiunta-terapia").onclick=B});
